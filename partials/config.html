<div class="gf-form-group">
    <h3 class="page-heading">Http settings</h3>
    <div class="gf-form-inline">
        <div class="gf-form max-width-30">
            <span class="gf-form-label width-7">Url</span>
            <input class="gf-form-input" type="text" ng-model='ctrl.current.url' placeholder="for example: http://localhost:8081" ng-pattern="/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/" required></input>
            <info-popover mode="right-absolute">
                <p>Specify a complete HTTP url (for example http://your_server:8080)</p>
                <span ng-show="ctrl.current.access === 'direct'">
                    Your access method is <em>Direct</em>, this means the url
                    needs to be accessable from the browser.
                </span>
                <span ng-show="ctrl.current.access === 'proxy'">
                    Your access method is currently <em>Proxy</em>, this means the url
                    needs to be accessable from the grafana backend.
                </span>
            </info-popover>
        </div>
    </div>

    <div class="gf-form-inline">
        <div class="gf-form max-width-30">
            <span class="gf-form-label width-7">Access</span>
            <div class="gf-form-select-wrapper gf-form-select-wrapper--has-help-icon max-width-24">
                <select class="gf-form-input" ng-model="ctrl.current.access" ng-options="f for f in ['direct', 'proxy']"></select>
                <info-popover mode="right-absolute">
                    Direct = url is used directly from browser<br>
                    Proxy = Grafana backend will proxy the request
                </info-popover>
            </div>
        </div>
    </div>
</div>

<div class="gf-form-group">
    <h3 class="page-heading">Monasca details</h3>
    <div class="gf-form-inline">
        <div class="gf-form max-width-30">
            <span class="gf-form-label width-7">Service</span>
            <div class="gf-form-select-wrapper gf-form-select-wrapper--has-help-icon max-width-24">
                <select
                     class="gf-form-input"
                     ng-model="ctrl.current.jsonData.service"
                     ng-init="ctrl.current.jsonData.service = ctrl.current.jsonData.service || 'monasca-api'">
                    <option value="monasca-api">Metrics (monasca-api)</option>
                    <option value="monasca-log-api"> Logs (monasca-log-api)</option>
                </select>
                <info-popover mode="right-absolute">
                    Select the service which this endpoint provides.<br />
                    Metrics (monasca-api): Provide access to time-series metrics.<br />
                    Logs (monasca-log-api): Provide access to log message storage.
                </info-popover>
            </div>
        </div>
    </div>
    <div class="gf-form-inline">
        <div class="gf-form max-width-30">
            <span class="gf-form-label width-7">Token</span>
            <input class="gf-form-input" type="text" ng-model='ctrl.current.jsonData.token' placeholder=""></input>
            <info-popover mode="right-absolute">
                <span>A token is required to autenticate if Keystone auth is not set.</span>
            </info-popover>
        </div>
    </div>
    <div class="gf-form-inline">
        <div class="gf-form max-width-30">
            <span class="gf-form-label width-7">Auth</span>
            <gf-form-switch class="gf-form" label="Keystone Auth"
                checked="ctrl.current.jsonData.keystoneAuth" switch-class="max-width-6">
            </gf-form-switch>
        </div>
    </div>
</div>
